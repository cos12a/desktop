import{d as S,r as k,s as f,c as r,a as t,u as s,t as h,b as g,l as N,o as d,_ as x}from"./index-D3lqa7Eb.js";import{u as B,a as V,A as w}from"./bluetoothShell-DXDm2zSW.js";import"./index-D0FcuMVo.js";const j={class:"page"},A={class:"controls"},E=["disabled"],I=["disabled"],D={key:0},O={key:1},P={class:"controls"},T=["disabled"],q=["disabled"],J=["disabled"],R={key:0},U={key:1},W={class:"log"},$={class:"shell-container"},z=S({__name:"shellCmd",setup(F){const u=k("");async function m(a){return await(await fetch("/commands.json")).json()}const l=B(),n=V(),{notifyEntries:v,isShellOpen:c}=f(n),{isConnected:i,device:_,isSupported:C,server:p}=f(l);async function y(){if(!p.value){alert("âŒ è®¾å¤‡æœªè¿žæŽ¥");return}try{const a=await p.value.getPrimaryServices();for(const e of a){console.log("ðŸ”¹ Service:",e.uuid);const o=await e.getCharacteristics();for(const b of o)console.log("   â†³ Characteristic:",b.uuid,"Properties:",JSON.stringify(b.properties))}}catch(a){console.error("æ‰«ææœåŠ¡/ç‰¹å¾å¤±è´¥:",a),alert("âŒ æ‰«ææœåŠ¡/ç‰¹å¾å¤±è´¥")}}return(a,e)=>(d(),r("section",j,[e[10]||(e[10]=t("h1",null,"Web è“ç‰™ Shell è°ƒè¯•",-1)),t("div",A,[t("button",{onClick:e[0]||(e[0]=(...o)=>s(l).connect&&s(l).connect(...o)),disabled:!s(C)||s(i)},"è¿žæŽ¥",8,E),t("button",{onClick:e[1]||(e[1]=(...o)=>s(l).disconnect&&s(l).disconnect(...o)),disabled:!s(i)},"æ–­å¼€",8,I),s(i)?(d(),r("span",D,"âœ… å·²è¿žæŽ¥: "+h(s(_)?.name||"æœªçŸ¥è®¾å¤‡"),1)):(d(),r("span",O,"âŒ æœªè¿žæŽ¥"))]),t("div",P,[t("button",{onClick:e[2]||(e[2]=(...o)=>s(n).openShell&&s(n).openShell(...o)),disabled:!s(i)||s(c)},"æ‰“å¼€ Shell è°ƒè¯•",8,T),t("button",{onClick:e[3]||(e[3]=(...o)=>s(n).closeShell&&s(n).closeShell(...o)),disabled:!s(c)},"å…³é—­ Shell è°ƒè¯•",8,q),t("button",{onClick:y,disabled:!s(i)}," æ‰«ææœåŠ¡/ç‰¹å¾ ",8,J),s(c)?(d(),r("span",R,"ðŸ“¡ Shell è°ƒè¯•å·²æ‰“å¼€")):(d(),r("span",U,"æœªæ‰“å¼€"))]),t("div",W,[t("h3",null,[e[8]||(e[8]=g(" æŽ¥æ”¶æ•°æ® ",-1)),t("button",{onClick:e[4]||(e[4]=(...o)=>s(n).clearNotify&&s(n).clearNotify(...o))},"æ¸…é™¤"),t("button",{onClick:e[5]||(e[5]=(...o)=>s(n).saveNotify&&s(n).saveNotify(...o))},"ä¿å­˜")]),t("pre",{ref:"recvBox",class:"recv-box"},h(s(v).join(`
`)),513)]),t("div",$,[e[9]||(e[9]=t("h2",null,"è“ç‰™å‘½ä»¤è¾“å…¥",-1)),N(w,{modelValue:u.value,"onUpdate:modelValue":e[6]||(e[6]=o=>u.value=o),fetcher:m,disabled:!s(c),placeholder:"è¾“å…¥å‘½ä»¤...",onEnter:e[7]||(e[7]=o=>s(n).sendData(u.value))},null,8,["modelValue","disabled"])])]))}}),L=x(z,[["__scopeId","data-v-bcc741bb"]]);export{L as default};
