import{d as D,r as u,c as n,a as o,i as v,b as y,w as _,e as f,t as A,o as a,_ as C}from"./index-B27VgFVv.js";const T={class:"home-register"},b={key:0},h={key:0,style:{color:"green"}},g={key:1,style:{color:"red"}},k=D({__name:"BleDataDemo",setup(B){const r=u(`{
  "MAC": "80:65:99:C8:48:84",
  "HubToken": "1FC6D184-CE57-48FE-BF22-50ECD08E29DD",
  "HubSn": "6027e8fd92d906d36d93622df7d715b7"
}`),s=u(null);async function c(){const i="3.8.04292024",e="WsInf_51",l="175DA3CC-F2B5-4CD0-A65E-A3B58BF0DB04",d="Asia/Shanghai";try{const t=JSON.parse(r.value),p={AppVersion:i,WsProductName:e,HubToken:t.HubToken,UserAppDeviceUUID:l,UserAppType:"ios",TimeZoneId:d,TimeZone:"+8"};console.log("发送注册请求，数据:",p);const m=await(await fetch("https://red.yzluo.top/unito/water-sys/app/homeRegister",{method:"POST",headers:{"Content-Type":"application/json",Authorization:t.HubSn},body:JSON.stringify(p)})).json();s.value=m}catch(t){s.value={msg:"error",detail:t.message||"未知错误"}}}return(i,e)=>(a(),n("div",T,[e[3]||(e[3]=o("h3",null,"📲 手机注册（使用 fetch）",-1)),o("label",null,[e[1]||(e[1]=y(" 接收到的设备数据: ",-1)),_(o("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),rows:"4",placeholder:'{"MAC":"...","HubToken":"...","HubSn":"..."}'},null,512),[[f,r.value]])]),o("button",{onClick:c},"发送注册请求"),s.value?(a(),n("div",b,[e[2]||(e[2]=o("h4",null,"返回结果:",-1)),o("pre",null,A(s.value),1),s.value.msg==="success"?(a(),n("p",h,"✅ 注册成功！")):(a(),n("p",g,"❌ 注册失败"))])):v("",!0)]))}}),U=C(k,[["__scopeId","data-v-c8eee827"]]);export{U as default};
