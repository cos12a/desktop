import{d as x,s as H,r as p,c as o,a as t,b as T,u as i,t as f,F as m,e as y,f as C,o as a,_ as E}from"./index-DqFnNDdy.js";import{u as R}from"./bluetoothConnection-OacwYh4c.js";import{c as V}from"./bleClientPortCore-CWtJte0X.js";import"./UnitoProductConfig-9EURWaFU.js";const F={class:"page"},L={class:"controls"},O=["disabled"],$=["disabled"],j={key:0},W={key:1},q={class:"controls"},z=["disabled"],G=["disabled"],J={key:0},K={class:"buttons"},M=["onClick"],Q={class:"log"},X="0000ffe0-0000-1000-8000-00805f9b34fb",w="0000ffe1-0000-1000-8000-00805f9b34fb",Y=x({__name:"Home",setup(Z){const v=R(),{isConnected:b,device:U,server:h,isSupported:k}=H(v),u=p(null),l=p([]),c=p([]),d=p(!1);let _=null;const A={æ“¦é™¤é…ç½‘:new Uint8Array([0,11,7,138,254,2,3,8,4,8,205,255]),æ“¦é™¤æ‰€æœ‰Nvs:new Uint8Array([0,11,7,138,254,2,3,6,8,6,205,255]),æ“¦é™¤ç”¨æˆ·Nvs:new Uint8Array([0,11,7,138,254,2,3,2,12,6,205,255]),å¤ä½Hub:new Uint8Array([0,11,1,137,254,2,1,6,228,255]),èŽ·å–ç³»ç»Ÿä¿¡æ¯:new Uint8Array([0,11,7,239,254,2,1,0,254,255]),èŽ·å–SSID:new Uint8Array([0,11,7,239,254,2,1,1,253,255]),èŽ·å–é…ç½‘çŠ¶æ€:new Uint8Array([0,11,7,3,254,1,1,1,234,255]),èŽ·å–RSSI:new Uint8Array([0,11,7,10,254,2,1,1,226,255]),è®¢é˜…OTA:new Uint8Array([0,11,1,136,254,2,1,8,227,255]),å–æ¶ˆè®¢é˜…OTA:new Uint8Array([0,11,1,136,254,2,1,7,228,255]),å¼€å§‹Hub_Ota:new Uint8Array([0,11,1,56,12,2,2,2,0,170,255])};async function S(){await v.connect()}async function g(){h.value&&(u.value=await V(h.value,X,w),u.value&&l.value.push("âœ… å·²åˆ›å»º BleClientPort"),l.value.push("ðŸ“¡ å¼€å§‹è®¢é˜…é€šçŸ¥"),_=u.value.onNotify(r=>{D(w,r)}),d.value=!0)}function N(){_&&(_(),_=null,d.value=!1,l.value.push("ðŸ›‘ å·²å–æ¶ˆè®¢é˜…é€šçŸ¥"))}function D(r,n){const e=Array.from(n).map(s=>s.toString(16).padStart(2,"0")).join("");c.value.unshift({time:new Date().toLocaleTimeString(),uuid:r,data:e}),c.value.length>50&&c.value.splice(50)}async function I(r){if(!u.value){l.value.push("âŒ æœªåˆå§‹åŒ–ç«¯å£");return}const n=A[r];await u.value.write(n),l.value.push(`âž¡ï¸ å·²å‘é€å‘½ä»¤: ${r}`)}function P(){l.value=[]}function B(){c.value=[]}return(r,n)=>(a(),o("section",F,[n[3]||(n[3]=t("h1",null,"Web è“ç‰™ Demo",-1)),t("div",L,[t("button",{onClick:S,disabled:!i(k)||i(b)},"è¿žæŽ¥",8,O),t("button",{onClick:n[0]||(n[0]=(...e)=>i(v).disconnect&&i(v).disconnect(...e)),disabled:!i(b)},"æ–­å¼€",8,$),i(b)?(a(),o("span",j,"âœ… å·²è¿žæŽ¥: "+f(i(U)?.name||"æœªçŸ¥è®¾å¤‡"),1)):(a(),o("span",W,"âŒ æœªè¿žæŽ¥"))]),t("div",q,[t("button",{onClick:g,disabled:!i(b)||d.value},"è®¢é˜…é€šçŸ¥",8,z),t("button",{onClick:N,disabled:!d.value},"å–æ¶ˆè®¢é˜…",8,G)]),n[4]||(n[4]=t("h3",null,"å‘½ä»¤é¢æ¿",-1)),d.value?(a(),o("div",J,[t("div",K,[(a(),o(m,null,y(A,(e,s)=>t("button",{key:s,onClick:tt=>I(s)},f(s),9,M)),64))])])):T("",!0),t("h3",null,[n[1]||(n[1]=C("æŽ¥æ”¶æ•°æ® ",-1)),t("button",{onClick:B},"æ¸…é™¤")]),(a(!0),o(m,null,y(c.value,(e,s)=>(a(),o("div",{key:s,class:"notify-entry"},[t("pre",null,f(e.time)+" | "+f(e.data),1)]))),128)),t("div",Q,[t("h3",null,[n[2]||(n[2]=C("æ—¥å¿— ",-1)),t("button",{onClick:P},"æ¸…é™¤")]),(a(!0),o(m,null,y(l.value,(e,s)=>(a(),o("div",{key:s,class:"log-entry"},f(e),1))),128))])]))}}),at=E(Y,[["__scopeId","data-v-29059bc0"]]);export{at as default};
